<script>
const textPL = {
  heroTitle: "SunPort-JW-SOL",
  heroSubtitle: "Gara≈ºe Blaszane z InstalacjƒÖ PV Off-Grid",
  heroDesc: "Energia prosto z dachu Twojego gara≈ºu ‚Äî niezale≈ºno≈õƒá w najlepszym wydaniu",
  ofertaTitle: "Nasza Oferta",
  ofertaDesc: "Oferujemy solidne gara≈ºe zintegrowane z kompletnymi zestawami PV off-grid. Wsp√≥≈Çpracujemy z Hortogarage ‚Äì oficjalnym partnerem SunPort-JW-SOL.",
  zamowTitle: "Zam√≥w Gara≈º z InstalacjƒÖ PV",
  kreatorTitle: "Kreator Zestawu Off-Grid",
  calcDesc: "Skonfiguruj sw√≥j w≈Çasny zestaw: wybierz moc instalacji PV, pojemno≈õƒá magazynu energii i opcjonalnie ≈Çadowarkƒô samochodowƒÖ.",

  // konfigurator
  pvLabel: "Moc instalacji PV (kW):",
  batLabel: "Pojemno≈õƒá magazynu energii (kWh):",
  chargLabel: "≈Åadowarka samochodowa:",
  chargNo: "Nie",
  chargYes: "Tak (11 kW)",
  calcBtn: "Oblicz zestaw",
  orderBtn: "Zam√≥w ten zestaw",

  rPV: "üîÜ Instalacja PV",
  rBAT: "üîã Magazyn energii",
  rEV: "üöó ≈Åadowarka EV",
  rYes: "Tak",
  rNo: "Nie",
  rCost: "üí∞ Szacunkowy koszt zestawu",

  textareaAdd: "Dodatkowe informacje: "
};

const textDE = {
  heroTitle: "SunPort-JW-SOL",
  heroSubtitle: "Blechgaragen mit Off-Grid PV-Anlage",
  heroDesc: "Energie direkt vom Dach Ihrer Garage ‚Äì Unabh√§ngigkeit in Bestform",
  ofertaTitle: "Unser Angebot",
  ofertaDesc: "Wir bieten solide Garagen mit kompletten Off-Grid-PV-Systemen. Wir arbeiten mit Hortogarage ‚Äì offizieller Partner von SunPort-JW-SOL zusammen.",
  zamowTitle: "Garage mit PV-Anlage bestellen",
  kreatorTitle: "Off-Grid Set-Konfigurator",
  calcDesc: "Konfigurieren Sie Ihr eigenes Set: W√§hlen Sie PV-Leistung, Speicherkapazit√§t und optional ein Elektroauto-Ladeger√§t.",

  // konfigurator
  pvLabel: "PV-Leistung (kW):",
  batLabel: "Speicherkapazit√§t (kWh):",
  chargLabel: "Autoladeger√§t:",
  chargNo: "Nein",
  chargYes: "Ja (11 kW)",
  calcBtn: "Set berechnen",
  orderBtn: "Dieses Set bestellen",

  rPV: "üîÜ PV-Anlage",
  rBAT: "üîã Energiespeicher",
  rEV: "üöó EV-Ladeger√§t",
  rYes: "Ja",
  rNo: "Nein",
  rCost: "üí∞ Gesch√§tzte Setkosten",

  textareaAdd: "Weitere Informationen: "
};

const textEN = {
  heroTitle: "SunPort-JW-SOL",
  heroSubtitle: "Metal Garages with Off-Grid PV System",
  heroDesc: "Energy straight from your garage roof ‚Äî independence at its best",
  ofertaTitle: "Our Offer",
  ofertaDesc: "We offer sturdy garages integrated with complete off-grid PV systems. We cooperate with Hortogarage ‚Äì official SunPort-JW-SOL partner.",
  zamowTitle: "Order Garage with PV System",
  kreatorTitle: "Off-Grid Set Builder",
  calcDesc: "Configure your own set: choose PV system power, battery capacity, and optionally an EV charger.",

  // konfigurator
  pvLabel: "PV system power (kW):",
  batLabel: "Battery capacity (kWh):",
  chargLabel: "EV charger:",
  chargNo: "No",
  chargYes: "Yes (11 kW)",
  calcBtn: "Generate set",
  orderBtn: "Order this set",

  rPV: "üîÜ PV installation",
  rBAT: "üîã Energy storage",
  rEV: "üöó EV charger",
  rYes: "Yes",
  rNo: "No",
  rCost: "üí∞ Estimated set cost",

  textareaAdd: "Additional information: "
};

let currentLang = "pl";

function setLang(lang) {
  currentLang = lang;
  const t = lang === "de" ? textDE : (lang === "en" ? textEN : textPL);

  // hero
  document.querySelector(".hero h1").textContent = t.heroTitle;
  document.querySelector(".hero h2").textContent = t.heroSubtitle;
  document.querySelector(".hero p").textContent = t.heroDesc;

  // oferta
  document.querySelector("#oferta h2").textContent = t.ofertaTitle;
  document.querySelector("#oferta p").textContent = t.ofertaDesc;

  // zam√≥wienia
  document.querySelector("#zamow h2").textContent = t.zamowTitle;

  // kreator
  document.querySelector("#kreator h2").textContent = t.kreatorTitle;
  document.querySelector("#kreator p").textContent = t.calcDesc;

  // etykiety konfiguratora
  document.querySelector('label[for="pv"]')?.remove();
  document.querySelectorAll("#kreator label")[0].textContent = t.pvLabel;
  document.querySelectorAll("#kreator label")[1].textContent = t.batLabel;
  document.querySelectorAll("#kreator label")[2].textContent = t.chargLabel;

  // opcje
  document.querySelector("#ladowarka option[value='0']").textContent = t.chargNo;
  document.querySelector("#ladowarka option[value='1']").textContent = t.chargYes;

  // przyciski
  document.querySelector(".calc button").textContent = t.calcBtn;
  document.querySelector("#zamowZestaw").textContent = t.orderBtn;

  // textarea placeholder
  document.querySelector("#wiadomosc").placeholder = t.textareaAdd;
}


// --- t≈Çumaczenie wyniku konfiguratora ---
function stworzZestaw() {
  const pv = parseFloat(document.getElementById("pv").value);
  const bat = parseFloat(document.getElementById("bateria").value);
  const lad = parseInt(document.getElementById("ladowarka").value);

  const t = currentLang === "de" ? textDE : (currentLang === "en" ? textEN : textPL);

  const cenaPV = 1200;
  const cenaBat = 500;
  const cenaLad = 1000;

  const koszt = pv * cenaPV + bat * cenaBat + (lad ? cenaLad : 0);

  const opis =
`${t.rPV}: ${pv} kW (${(pv*cenaPV).toLocaleString()} ‚Ç¨)
${t.rBAT}: ${bat} kWh (${(bat*cenaBat).toLocaleString()} ‚Ç¨)
${t.rEV}: ${lad ? t.rYes + " (" + cenaLad.toLocaleString() + " ‚Ç¨)" : t.rNo}
${t.rCost}: ${koszt.toLocaleString()} ‚Ç¨`;

  const wynik = document.getElementById("wynikZestawu");
  wynik.style.display = "block";
  wynik.innerHTML = opis.replace(/\n/g, "<br>");
  wynik.dataset.opis = opis;

  document.getElementById("zamowZestaw").style.display = "inline-block";
}

function przeniesDoForm() {
  const t = currentLang === "de" ? textDE : (currentLang === "en" ? textEN : textPL);
  const opis = document.getElementById("wynikZestawu").dataset.opis;
  const textarea = document.getElementById("wiadomosc");
  textarea.value = opis + "\n\n" + t.textareaAdd;
  window.location.hash = "#zamow";
  textarea.focus();
}
</script>
